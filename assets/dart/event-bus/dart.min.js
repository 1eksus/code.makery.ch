function SendPortSync(){}function ReceivePortSync(){this.id=ReceivePortSync.id++,ReceivePortSync.map[this.id]=this}navigator.webkitStartDart?navigator.webkitStartDart()||(document.body.innerHTML="This build has expired.  Please download a new Dartium at http://www.dartlang.org/dartium/index.html"):window.addEventListener("DOMContentLoaded",function(){for(var t=document.getElementsByTagName("script"),e=t.length,n=0;e>n;++n)if("application/dart"==t[n].type&&t[n].src&&""!=t[n].src){var r=document.createElement("script");r.src=t[n].src.replace(/\.dart(?=\?|$)/,".dart.js");var o=t[n].parentNode;document.currentScript=r,o.replaceChild(r,t[n])}},!1),function(){function t(t){function e(t,e){var n=r.indexOf(t);if(-1!=n)return["ref",n];var n=r.length;return r.push(t),e(n)}function n(t){return null==t?null:"string"==typeof t||"number"==typeof t||"boolean"==typeof t?t:t instanceof Array?e(t,function(e){for(var r=new Array(t.length),o=0;o<t.length;o++)r[o]=n(t[o]);return["list",e,r]}):t instanceof a?["sendport","nativejs",t.receivePort.id]:t instanceof c?["sendport","dart",t.isolateId,t.portId]:e(t,function(e){for(var r=Object.getOwnPropertyNames(t),o=new Array(r.length),i=0;i<r.length;i++)o[i]=n(t[r[i]]);return["map",e,r,o]})}var r=[];return n(t)}function e(t){return n(t)}function n(t){if(null==t||"string"==typeof t||"number"==typeof t||"boolean"==typeof t)return t;switch(t[0]){case"map":return r(t);case"sendport":return o(t);case"list":return i(t);default:throw"unimplemented"}}function r(t){for(var e={},r=(t[1],t[2]),o=t[3],i=0,a=r.length;a>i;i++){var c=n(r[i]),u=n(o[i]);e[c]=u}return e}function o(t){var e=t[1];switch(e){case"nativejs":var n=t[2];return new a(ReceivePortSync.map[n]);case"dart":var r=t[2],o=t[3];return new c(r,o);default:throw"Illegal SendPortSync type: $tag"}}function i(t){for(var e=t[2],r=e.length,o=new Array(r),i=0;r>i;i++)o[i]=n(e[i]);return o}function a(t){this.receivePort=t}function c(t,e){this.isolateId=t,this.portId=e}function u(t,e){var n=JSON.stringify(e),r=document.createEvent("CustomEvent");r.initCustomEvent(t,!1,!1,n),window.dispatchEvent(r)}function s(t){return t.detail}window.registerPort=function(e,n){var r=JSON.stringify(t(n)),o="dart-port:"+e;document.documentElement.setAttribute(o,r)},window.lookupPort=function(t){var n="dart-port:"+t,r=document.documentElement.getAttribute(n);return e(JSON.parse(r))},ReceivePortSync.id=0,ReceivePortSync.map={},ReceivePortSync.dispatchCall=function(n,r){var o=e(r),i=ReceivePortSync.map[n].callback(o);return t(i)},ReceivePortSync.prototype.receive=function(t){this.callback=t},ReceivePortSync.prototype.toSendPort=function(){return new a(this)},ReceivePortSync.prototype.close=function(){delete ReceivePortSync.map[this.id]},navigator.webkitStartDart&&window.addEventListener("js-sync-message",function(n){var r=JSON.parse(s(n)),o=e(r.message),i=ReceivePortSync.map[r.id].callback(o);u("js-result",t(i))},!1),a.prototype=new SendPortSync,a.prototype.callSync=function(n){return n=e(t(n)),this.receivePort.callback(n)},c.prototype=new SendPortSync,c.prototype.callSync=function(n){var r=t(n),o="dart-port-"+this.isolateId+"-"+this.portId,i=o+"-result",a=null,c=function(t){a=JSON.parse(s(t))};return window.addEventListener(i,c,!1),u(o,[i,r]),window.removeEventListener(i,c,!1),e(a)}}();